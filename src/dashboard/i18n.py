import streamlit as st

TRANSLATIONS = {
    "en": {
        "app_title": "GlobalID Database",
        "platform_desc": "Disease data viewing and exploration",
        "nav": ["Overview", "Disease Analysis", "Data Explorer", "Data Quality", "Task Management"],
        "filter_heading": "Filters",
        "select_country": "Select country",
        "select_country_prompt": "Select a country to view trend",
        "no_countries": "No countries available",
        "connection_failed": "DB connection failed",
        "overview_title": "Disease Monitoring Overview",
        "current_country": "Current country",
        "kpi_monitored": "Monitored Diseases",
        "kpi_total": "Total Records",
        "kpi_last": "Last Update",
        "kpi_recent": "Recent Cases (30d)",
        "trend_title": "Epidemic Trend",
        "top_diseases_title": "Top 10 Diseases",
        "data_browser_title": "Database Browser",
        "data_quality_title": "Data Quality Dashboard",
        "data_quality_desc": "Monitor data completeness and quality indicators",
        "load_data": "Load Data",
        "load_table": "Load Table",
        "execute": "Execute",
        "clear": "Clear",
        "export_csv": "Download CSV",
        "query_no_data": "Query returned no data",
        "query_failed": "Query failed",
        "query_success": "Query successful",
        "language": "Language",
        "english": "English",
        "chinese": "中文",
        "disease_label": "Disease",
        "table_label": "Table",
        "rows_label": "Max Rows",
        "rows": "rows",
        "raw_data": "Raw data",
        "interval_label": "Time Range",
        "interval_30d": "Last 30 days",
        "interval_90d": "Last 90 days",
        "interval_1y": "Last 1 year",
        "interval_all": "All time",
        "custom_range": "Custom Range",
        "download_csv": "Download CSV",
        "nav_heading": "Navigation",
        "version_text": "Version",
        "cases": "Cases",
        "deaths": "Deaths",
        "time": "Time",
        "count": "Count",
        "all_diseases": "All Diseases",
        "disease_filter": "Disease Filter",
        "available_diseases": "Available diseases",
        "compare_diseases": "Compare",
        "disease_comparison": "Disease Comparison",
        "select_diseases_to_compare": "Select diseases to compare",
        "comparison_stats": "Comparison Statistics",
        "total_cases": "Total Cases",
        "total_deaths": "Total Deaths",
        "avg_monthly": "Avg Monthly",
        "cases_trend": "Cases Trend",
        "deaths_trend": "Deaths Trend",
        "rates": "Rates",
        "incidence_rate": "Incidence Rate",
        "mortality_rate": "Mortality Rate",
        "quick_queries": "Quick Queries",
        "select_template": "Select query template",
        "run_template": "Run Query",
        "template_recent_data": "Recent 100 records",
        "template_disease_summary": "Disease summary statistics",
        "template_monthly_stats": "Monthly aggregated data",
        "template_data_quality": "Data quality overview",
        "table_browser": "Table Browser",
        "total_records": "Total Records",
        "diseases_count": "Diseases",
        "date_range": "Date Range",
        "quality_checks": "Quality Checks",
        "zero_cases_records": "Zero Cases Records",
        "zero_deaths_records": "Zero Deaths Records",
        "time_completeness": "Time Series Completeness",
        "start_date": "Start Date",
        "end_date": "End Date",
        "missing_periods": "Missing Periods",
        "total_periods": "Total Periods",
        "completeness_rate": "Completeness Rate",
        "missing_details": "Missing Period Details",
        "found_gaps": "Time gaps found",
        "no_gaps_found": "✓ No gaps in time series",
        "data_sources": "Data Source Distribution",
        "source_distribution": "Source Distribution",
        "raw_data_filter": "Data Filter Options",
        "all_sources": "All Sources",
        "source_filter": "Data Source",
        "showing_records": "Showing",
        "no_data_after_filter": "No data matches the selected filters",
        "time_range_filter": "Time Range",
        "task_management_title": "Task Management",
        "overview": "Overview",
        "ai_tasks": "AI Tasks",
        "crawler_tasks": "Crawler Tasks",
        "categories": "Categories",
        "create_category": "Create Category",
        "remove_category": "Remove Category",
        "delete": "Delete",
        "total_tasks": "Total Tasks",
        "create_task": "Create Task",
        "new_task_name": "Task Name",
        "task_type": "Task Type",
        "priority": "Priority",
        "create": "Create",
        "tasks_list": "Tasks",
        "status": "Status",
        "actions": "Actions",
        "start_task": "Start",
        "cancel_task": "Cancel",
        "view_workbook": "View Workbook",
        "no_tasks": "No tasks found",
        "task_created": "Task created",
        "task_action_success": "Action succeeded",
        "task_action_failed": "Action failed",
        "task_uuid": "Task UUID",
        # New task management features
        "queue_view": "Queue View",
        "task_queue": "Task Queue",
        "pending_tasks": "Pending",
        "running_tasks": "Running",
        "completed_tasks": "Completed",
        "total_in_queue": "Total in Queue",
        "no_pending_tasks": "No pending tasks",
        "no_running_tasks": "No running tasks",
        "by_status": "By Status",
        "by_type": "By Type",
        "no_data": "No data",
        "quick_actions": "Quick Actions",
        "select_task": "Select Task",
        "pause_task": "Pause",
        "view_details": "View Details",
        "task_not_found": "Task not found",
        "close": "Close",
        "basic_info": "Basic Info",
        "input_data": "Input Data",
        "workbook": "Workbook",
        "task_actions": "Task Actions",
        "created_at": "Created At",
        "started_at": "Started At",
        "completed_at": "Completed At",
        "duration": "Duration",
        "description": "Description",
        "last_error": "Last Error",
        "edit_input_data": "Edit Input Data",
        "json_input": "JSON Data",
        "update_input": "Update Data",
        "no_input_data": "No input data",
        "no_workbook_entries": "No workbook entries",
        "complete_task": "Complete",
        "category_created": "Category created",
        "category_deleted": "Category deleted",
        "category_exists": "Category already exists",
        "enter_category_name": "Please enter a category name",
        "select_category_to_remove": "Please select a category to remove",
        "current_categories": "Current Categories",
    },
    "zh": {
        "app_title": "GlobalID 数据库",
        "platform_desc": "疾病数据查看与探索",
        "nav": ["总览", "疾病分析", "数据浏览", "数据质量", "任务管理"],
        "filter_heading": "筛选条件",
        "select_country": "选择国家",
        "select_country_prompt": "请选择国家以查看趋势",
        "no_countries": "暂无国家数据",
        "connection_failed": "数据库连接失败",
        "overview_title": "疾病监测总览",
        "current_country": "当前国家",
        "kpi_monitored": "监控疾病",
        "kpi_total": "总记录数",
        "kpi_last": "最后更新",
        "kpi_recent": "近期病例 (30天)",
        "trend_title": "疫情趋势",
        "top_diseases_title": "Top 10 疾病排名",
        "data_browser_title": "数据库浏览",
        "data_quality_title": "数据质量仪表盘",
        "data_quality_desc": "监控数据完整性和质量指标",
        "load_data": "加载数据",
        "load_table": "加载表格",
        "execute": "执行查询",
        "clear": "清空",
        "export_csv": "导出 CSV",
        "query_no_data": "查询未返回数据",
        "query_failed": "查询失败",
        "query_success": "查询成功",
        "language": "语言",
        "english": "English",
        "chinese": "中文",
        "disease_label": "疾病",
        "table_label": "表格",
        "rows_label": "最大行数",
        "rows": "行",
        "raw_data": "原始数据",
        "interval_label": "时间范围",
        "interval_30d": "最近30天",
        "interval_90d": "最近90天",
        "interval_1y": "最近1年",
        "interval_all": "所有时间",        "custom_range": "自定义",        "download_csv": "下载 CSV",
        "nav_heading": "导航",
        "version_text": "版本",
        "cases": "病例数",
        "deaths": "死亡数",
        "time": "时间",
        "count": "计数",
        "all_diseases": "所有疾病",
        "disease_filter": "疾病筛选",
        "available_diseases": "可用疾病",
        "compare_diseases": "对比",
        "disease_comparison": "疾病对比",
        "select_diseases_to_compare": "选择要对比的疾病",
        "comparison_stats": "对比统计",
        "total_cases": "累计病例",
        "total_deaths": "累计死亡",
        "avg_monthly": "月均值",
        "cases_trend": "病例趋势",
        "deaths_trend": "死亡趋势",
        "rates": "发病率/死亡率",
        "incidence_rate": "发病率",
        "mortality_rate": "死亡率",
        "quick_queries": "快捷查询",
        "select_template": "选择查询模板",
        "run_template": "运行查询",
        "template_recent_data": "最近100条记录",
        "template_disease_summary": "疾病汇总统计",
        "template_monthly_stats": "月度汇总数据",
        "template_data_quality": "数据质量概览",
        "table_browser": "表格浏览器",
        "total_records": "总记录数",
        "diseases_count": "疾病数",
        "date_range": "日期范围",
        "quality_checks": "质量检查",
        "zero_cases_records": "零病例记录",
        "zero_deaths_records": "零死亡记录",
        "time_completeness": "时间序列完整性",
        "start_date": "开始日期",
        "end_date": "结束日期",
        "missing_periods": "缺失周期数",
        "total_periods": "总周期数",
        "completeness_rate": "完整率",
        "missing_details": "缺失周期详情",
        "found_gaps": "发现时间间隙",
        "no_gaps_found": "✓ 时间序列连续无间断",
        "data_sources": "数据来源分布",
        "source_distribution": "来源分布",
        "raw_data_filter": "数据筛选选项",
        "all_sources": "所有来源",
        "source_filter": "数据来源",
        "showing_records": "显示记录",
        "no_data_after_filter": "没有符合筛选条件的数据",
        "time_range_filter": "时间范围",
        "task_management_title": "任务管理",
        "overview": "总览",
        "ai_tasks": "AI 任务",
        "crawler_tasks": "爬虫任务",
        "categories": "分类管理",
        "create_category": "创建分类",
        "remove_category": "移除分类",
        "delete": "删除",
        "total_tasks": "任务总数",
        "create_task": "创建任务",
        "new_task_name": "任务名称",
        "task_type": "任务类型",
        "priority": "优先级",
        "create": "创建",
        "tasks_list": "任务列表",
        "status": "状态",
        "actions": "操作",
        "start_task": "开始",
        "cancel_task": "取消",
        "view_workbook": "查看工作簿",
        "no_tasks": "未找到任务",
        "task_created": "任务已创建",
        "task_action_success": "操作成功",
        "task_action_failed": "操作失败",
        "task_uuid": "任务 UUID",
        # New task management features
        "queue_view": "队列视图",
        "task_queue": "任务队列",
        "pending_tasks": "等待中",
        "running_tasks": "运行中",
        "completed_tasks": "已完成",
        "total_in_queue": "队列总数",
        "no_pending_tasks": "无等待任务",
        "no_running_tasks": "无运行任务",
        "by_status": "按状态",
        "by_type": "按类型",
        "no_data": "暂无数据",
        "quick_actions": "快捷操作",
        "select_task": "选择任务",
        "pause_task": "暂停",
        "view_details": "查看详情",
        "task_not_found": "任务未找到",
        "close": "关闭",
        "basic_info": "基本信息",
        "input_data": "输入数据",
        "workbook": "工作簿",
        "task_actions": "任务操作",
        "created_at": "创建时间",
        "started_at": "开始时间",
        "completed_at": "完成时间",
        "duration": "持续时间",
        "description": "描述",
        "last_error": "最近错误",
        "edit_input_data": "编辑输入数据",
        "json_input": "JSON 数据",
        "update_input": "更新数据",
        "no_input_data": "无输入数据",
        "no_workbook_entries": "无工作簿记录",
        "complete_task": "完成",
        "category_created": "分类已创建",
        "category_deleted": "分类已删除",
        "category_exists": "分类已存在",
        "enter_category_name": "请输入分类名称",
        "select_category_to_remove": "请选择要移除的分类",
        "current_categories": "当前分类",
    },
}


def t(key: str) -> str:
    lang = st.session_state.get("lang", "en")
    return TRANSLATIONS.get(lang, TRANSLATIONS["en"]).get(key, key)
